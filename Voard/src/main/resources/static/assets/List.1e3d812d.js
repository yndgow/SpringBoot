import{f as N,ap as ee,z as H,a0 as C,A as K,X as ae,af as te,C as le,B as q,aq as ne,E as M,m as L,W as y,b as l,J as B,ar as I,as as z,L as E,x as ie,u as se,a as re,r as ue,K as oe,o as F,c as ve,w as d,e as ce,d as A,at as o,au as k,Y as de,av as W,aw as fe,O as ge}from"./index.7ad241a6.js";import{t as be,m as O,w as he,g as me,h as xe,i as X,j as ye,W as pe,u as j,d as p,l as _e,V as Ve,b as Le,a as ke,c as Pe,e as Se,f as Be}from"./VMain.aea93504.js";import{V as U}from"./VSheet.e01319e2.js";function Ae(){const e=N([]);ee(()=>e.value=[]);function b(t,x){e.value[x]=t}return{refs:e,updateRef:b}}const we=H()({name:"VPagination",props:{activeColor:String,start:{type:[Number,String],default:1},modelValue:{type:Number,default:e=>e.start},disabled:Boolean,length:{type:[Number,String],default:1,validator:e=>e%1===0},totalVisible:[Number,String],firstIcon:{type:C,default:"$first"},prevIcon:{type:C,default:"$prev"},nextIcon:{type:C,default:"$next"},lastIcon:{type:C,default:"$last"},ariaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.root"},pageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.page"},currentPageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.currentPage"},firstAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.first"},previousAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.previous"},nextAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.next"},lastAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.last"},ellipsis:{type:String,default:"..."},showFirstLastPage:Boolean,...be(),...O(),...he(),...me(),...xe(),...X({tag:"nav"}),...K(),...ye({variant:"text"})},emits:{"update:modelValue":e=>!0,first:e=>!0,prev:e=>!0,next:e=>!0,last:e=>!0},setup(e,b){let{slots:t,emit:x}=b;const n=ae(e,"modelValue"),{t:v,n:_}=te(),{isRtl:h}=le(),{themeClasses:R}=q(e),{width:$}=ne(),V=N(-1);M(void 0,{scoped:!0});const{resizeRef:w}=pe(a=>{if(!a.length)return;const{target:s,contentRect:r}=a[0],c=s.querySelector(".v-pagination__list > *");if(!c)return;const g=r.width,S=c.offsetWidth+parseFloat(getComputedStyle(c).marginRight)*2;V.value=D(g,S)}),u=L(()=>parseInt(e.length,10)),i=L(()=>parseInt(e.start,10)),f=L(()=>e.totalVisible?parseInt(e.totalVisible,10):V.value>=0?V.value:D($.value,58));function D(a,s){const r=e.showFirstLastPage?5:3;return Math.max(0,Math.floor(+((a-s*r)/s).toFixed(2)))}const G=L(()=>{if(u.value<=0||isNaN(u.value)||u.value>Number.MAX_SAFE_INTEGER)return[];if(f.value<=1)return[n.value];if(u.value<=f.value)return I(u.value,i.value);const a=f.value%2===0,s=a?f.value/2:Math.floor(f.value/2),r=a?s:s+1,c=u.value-s;if(r-n.value>=0)return[...I(Math.max(1,f.value-1),i.value),e.ellipsis,u.value];if(n.value-c>=(a?1:0)){const g=f.value-1,S=u.value-g+i.value;return[i.value,e.ellipsis,...I(g,S)]}else{const g=Math.max(1,f.value-3),S=g===1?n.value:n.value-Math.ceil(g/2)+i.value;return[i.value,e.ellipsis,...I(g,S),e.ellipsis,u.value]}});function P(a,s,r){a.preventDefault(),n.value=s,r&&x(r,s)}const{refs:J,updateRef:Y}=Ae();M({VPaginationBtn:{color:y(e,"color"),border:y(e,"border"),density:y(e,"density"),size:y(e,"size"),variant:y(e,"variant"),rounded:y(e,"rounded"),elevation:y(e,"elevation")}});const Q=L(()=>G.value.map((a,s)=>{const r=c=>Y(c,s);if(typeof a=="string")return{isActive:!1,key:`ellipsis-${s}`,page:a,props:{ref:r,ellipsis:!0,icon:!0,disabled:!0}};{const c=a===n.value;return{isActive:c,key:a,page:_(a),props:{ref:r,ellipsis:!1,icon:!0,disabled:!!e.disabled||+e.length<2,color:c?e.activeColor:e.color,ariaCurrent:c,ariaLabel:v(c?e.currentPageAriaLabel:e.pageAriaLabel,a),onClick:g=>P(g,a)}}}})),m=L(()=>{const a=!!e.disabled||n.value<=i.value,s=!!e.disabled||n.value>=i.value+u.value-1;return{first:e.showFirstLastPage?{icon:h.value?e.lastIcon:e.firstIcon,onClick:r=>P(r,i.value,"first"),disabled:a,ariaLabel:v(e.firstAriaLabel),ariaDisabled:a}:void 0,prev:{icon:h.value?e.nextIcon:e.prevIcon,onClick:r=>P(r,n.value-1,"prev"),disabled:a,ariaLabel:v(e.previousAriaLabel),ariaDisabled:a},next:{icon:h.value?e.prevIcon:e.nextIcon,onClick:r=>P(r,n.value+1,"next"),disabled:s,ariaLabel:v(e.nextAriaLabel),ariaDisabled:s},last:e.showFirstLastPage?{icon:h.value?e.firstIcon:e.lastIcon,onClick:r=>P(r,i.value+u.value-1,"last"),disabled:s,ariaLabel:v(e.lastAriaLabel),ariaDisabled:s}:void 0}});function T(){var s;const a=n.value-i.value;(s=J.value[a])==null||s.$el.focus()}function Z(a){a.key===z.left&&!e.disabled&&n.value>+e.start?(n.value=n.value-1,E(T)):a.key===z.right&&!e.disabled&&n.value<i.value+u.value-1&&(n.value=n.value+1,E(T))}return j(()=>l(e.tag,{ref:w,class:["v-pagination",R.value],role:"navigation","aria-label":v(e.ariaLabel),onKeydown:Z,"data-test":"v-pagination-root"},{default:()=>[l("ul",{class:"v-pagination__list"},[e.showFirstLastPage&&l("li",{key:"first",class:"v-pagination__first","data-test":"v-pagination-first"},[t.first?t.first(m.value.first):l(p,B({_as:"VPaginationBtn"},m.value.first),null)]),l("li",{key:"prev",class:"v-pagination__prev","data-test":"v-pagination-prev"},[t.prev?t.prev(m.value.prev):l(p,B({_as:"VPaginationBtn"},m.value.prev),null)]),Q.value.map((a,s)=>l("li",{key:a.key,class:["v-pagination__item",{"v-pagination__item--is-active":a.isActive}],"data-test":"v-pagination-item"},[t.item?t.item(a):l(p,B({_as:"VPaginationBtn"},a.props),{default:()=>[a.page]})])),l("li",{key:"next",class:"v-pagination__next","data-test":"v-pagination-next"},[t.next?t.next(m.value.next):l(p,B({_as:"VPaginationBtn"},m.value.next),null)]),e.showFirstLastPage&&l("li",{key:"last",class:"v-pagination__last","data-test":"v-pagination-last"},[t.last?t.last(m.value.last):l(p,B({_as:"VPaginationBtn"},m.value.last),null)])])]})),{}}});const Ce=H()({name:"VTable",props:{fixedHeader:Boolean,fixedFooter:Boolean,height:[Number,String],hover:Boolean,...O(),...X(),...K()},setup(e,b){let{slots:t}=b;const{themeClasses:x}=q(e),{densityClasses:n}=_e(e);return j(()=>l(e.tag,{class:["v-table",{"v-table--fixed-height":!!e.height,"v-table--fixed-header":e.fixedHeader,"v-table--fixed-footer":e.fixedFooter,"v-table--has-top":!!t.top,"v-table--has-bottom":!!t.bottom,"v-table--hover":e.hover},x.value,n.value]},{default:()=>{var v,_,h;return[(v=t.top)==null?void 0:v.call(t),t.default?l("div",{class:"v-table__wrapper",style:{height:ie(e.height)}},[l("table",null,[t.default()])]):(_=t.wrapper)==null?void 0:_.call(t),(h=t.bottom)==null?void 0:h.call(t)]}})),{}}}),Ie=o("thead",null,[o("tr",null,[o("th",{class:"text-center"},"\uBC88\uD638"),o("th",{class:"text-center"},"\uC81C\uBAA9"),o("th",{class:"text-center"},"\uC791\uC131\uC790"),o("th",{class:"text-center"},"\uC870\uD68C\uC218"),o("th",{class:"text-center"},"\uC791\uC131\uC77C")])],-1),Ne={__name:"List",setup(e){const b=se(),x=re().getUser,n=ue({data:{}}),v=N(1),_=()=>{b.push("/write")},h=()=>{b.push("/view")},R=()=>{localStorage.removeItem("accessToken"),b.push("/user/login")},$=()=>{V(v.value)},V=w=>{const u="/api/list?pg="+w;ce.get(u).then(i=>{n.data=i.data}).catch(i=>{alert(i.message)})};return oe(()=>{V(1)}),(w,u)=>(F(),ve(Ve,null,{default:d(()=>[l(Se,null,{default:d(()=>[l(Le,{app:""},{default:d(()=>[l(ke,null,{default:d(()=>[A("\uAE00\uBAA9\uB85D")]),_:1}),o("p",null,[A(k(de(x).nick)+" \uB2D8 \uBC18\uAC11\uC2B5\uB2C8\uB2E4. ",1),l(p,{onClick:R},{default:d(()=>[A("\uB85C\uADF8\uC544\uC6C3")]),_:1})])]),_:1}),l(Pe,null,{default:d(()=>[l(U,{"max-width":"800",class:"mx-auto mt-16"},{default:d(()=>[l(Ce,{class:"text-center",density:"compact",hover:"true"},{default:d(()=>[Ie,o("tbody",null,[(F(!0),W(ge,null,fe(n.data.articles,(i,f)=>(F(),W("tr",{key:i.no},[o("td",null,k(n.data.pageStartNum-f),1),o("td",{class:"text-left",onClick:h},k(i.title),1),o("td",null,k(i.uid),1),o("td",null,k(i.hit),1),o("td",null,k(i.rdate.substring(2,10)),1)]))),128))])]),_:1}),l(U,{class:"text-end mt-6"},{default:d(()=>[l(p,{color:"indigo",onClick:_},{default:d(()=>[A("\uAE00\uC4F0\uAE30")]),_:1})]),_:1}),l(we,{length:n.data.lastPageNum,modelValue:v.value,"onUpdate:modelValue":u[0]||(u[0]=i=>v.value=i),"total-visible":"10",rounded:"circle",onClick:$},null,8,["length","modelValue"])]),_:1})]),_:1})]),_:1}),l(Be,{app:"",class:"bg-indigo-lighten-1"},{default:d(()=>[A(" copyright \xA9Voard v1.0")]),_:1})]),_:1}))}};export{Ne as default};
